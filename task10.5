import pandas as pd
from scipy.stats import ttest_ind


def website_analyse(path: str) -> None:
    df = pd.read_csv(path)

    mean_pages = df["Просмотренные страницы"].mean()
    print(f"1) Среднее количество просмотренных таблиц: {mean_pages}")

    std_time = df["Время на сайте (сек)"].std()
    print(f"2) Стандартное отклонение: {std_time}")

    mean_time = df["Время на сайте (сек)"].mean()
    variation_coeff = std_time / mean_time

    if variation_coeff > 0.25:
        variability = "Высокая вариабельность"
    elif variation_coeff > 0.1:
        variability = "Умеренная вариабельность"
    else:
        variability = "Слабая вариабельность"

    print(f"3) {variability}: {variation_coeff}")

    mobile_pages = df[df["Тип устройства"] == "Мобильное"]["Просмотренные страницы"]
    desktop_pages = df[df["Тип устройства"] == "Десктоп"]["Просмотренные страницы"]

    _, p_value = ttest_ind(mobile_pages, desktop_pages)

    if p_value > 0.05:
        result = "Есть статистически значимая разница в количестве страниц"
    else:
        result = "Нет статистически значимой разницы"

    print(f"4) {result}: {p_value}")

